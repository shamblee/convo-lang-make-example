> define
__model="gpt-4.1"

> system
You are generating content that will be directly written to "docs/screens/deck.md".
DO NOT include a preamble or postamble.

> appendUser
# Pocket Plumbers: Detailed Game Description

## Overview

Pocket Plumbers is a fun and strategic card battle game inspired by classics like Pokémon and trading card games. Instead of battling monsters, players collect and trade plumbing-themed cards to overcome quirky and challenging plumbing emergencies. Experience the excitement of creating unique decks, responding to emergencies, and building the ultimate collection of plumber cards!

---

## Features

- **Plumbing Emergencies:** Face a wide variety of plumbing emergencies, each requiring different strategies and card combinations to resolve.
- **Card Collection:** Collect, unlock, and upgrade cards featuring tools, plumbers, parts, abilities, and special tactics.
- **Deck Building:** Organize your collection into custom decks for different emergency scenarios. Save, customize, and rename your decks.
- **Card Trading:** Swap and buy cards with the in-game card shop, growing your collection and refining your strategies.
- **Player Dashboard:** Track your progress, view your top cards, stats, and manage your decks easily.
- **Poke-Battle Style Battles:** Challenge plumbing emergencies with engaging, turn-based battle mechanics reminiscent of Pokémon showdowns.
- **Coins and Rewards:** Earn coins based on your speed and performance in emergencies, and spend them on new cards.
- **Stats Tracking:** See detailed information about your card collection and gameplay accomplishments.

---

## Screen Descriptions

### Dashboard

- **Short Description:** Your main hub for the game.
- **Details:**  
  See your overall game stats (wins, coins, emergencies solved), your total card count, and a highlight of your top ten cards. Access a full card list with a single tap. Review a complete list of your decks where you can quickly rename, delete, or create new decks for battle.

### Card List

- **Short Description:** A comprehensive inventory of all your collected cards.
- **Details:**  
  Browse every card you own, including plumbers, tools, emergency tactics, and upgrades. Use filters and sorting to quickly find the card you need.

### Deck

- **Short Description:** Build and edit your battle decks.
- **Details:**  
  Manage your deck by adding or removing cards, renaming it, and ensuring you have the perfect setup for any emergency. See stats for your deck, like average card power or type distribution.

### Card Shop

- **Short Description:** Buy and trade for new cards using in-game currency.
- **Details:**  
  Spend your hard-earned coins on card packs, single cards, or trade with other players via the shop. Keep an eye out for rotating specials and limited-time offers that could boost your collection.

### Emergency

- **Short Description:** Dive into battle and fix urgent plumbing problems!
- **Details:**  
  Select a deck and face off against unique plumbing emergencies in a turn-based, Pokémon-inspired battlefield. Each emergency behaves differently, and players must respond with tactics and the right cards to resolve them quickly for maximum rewards.

---

> appendUser
## Pocket Plumbers Theme Specification

### Overall Look and Feel
Pocket Plumbers pays homage to classic Gameboy Color visuals while leveraging modern design principles for clarity and accessibility. The interface mimics pixelated charm and limited color palettes but uses cleaner typography, contemporary layout spacing, and subtle micro-interactions. All interactive elements and call-to-action accents use a retro-inspired green. Cards, buttons, and stat windows call back to cartridge labels and game menus, with soft shadows and border radii adding a welcoming, modern touch.

### Core Palette
- **Primary (Action) Color:** `emerald-500` (`bg-emerald-500`, `text-emerald-500`, `border-emerald-500`)
- **Dark Ground:** `gray-900` / `gray-800`
- **Light Backgrounds:** `gray-100`, `white`
- **Accent Borders/Dividers:** `gray-200`
- **Pixel Shadow Accent:** Vibrant contrast, e.g., `yellow-300`, `lime-400`
- **Button & Selection Highlight:** `emerald-600`, `emerald-400`

### Typography
- **Font Family:** `font-mono` (for pixel/Gameboy effect), occasionally `font-sans` for announcements or body
- **Uppercase Labels:** `uppercase`, `tracking-wider`
- **Heading Style:** `text-xl md:text-2xl font-bold`
- **Subtle Shadow:** `drop-shadow-[0_1px_0_rgba(0,0,0,0.8)]` (simulates pixel text highlight)

---

### Example Theme Application

#### Main Game Container
```html
<div class="w-full min-h-screen bg-gray-900 flex flex-col items-center font-mono text-gray-100">
  <!-- Content here -->
</div>
```

#### Card Example
```html
<div class="bg-gray-100 rounded-lg border-2 border-emerald-500 shadow-lg px-4 py-3
            relative overflow-hidden mb-4 transition-transform hover:scale-105">
  <div class="absolute top-2 right-2 text-emerald-500 text-xs uppercase tracking-widest font-bold">
    Rare
  </div>
  <h3 class="text-xl font-bold text-gray-900 drop-shadow-[0_1px_0_rgba(34,197,94,0.9)] leading-tight uppercase tracking-wide">
    Pipe Wrench
  </h3>
  <p class="text-gray-700 text-sm mt-2">
    A trusty wrench. Use to fix common leaks and open stuck valves.
  </p>
</div>
```

#### Button
```html
<button class="bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded shadow 
                border-2 border-emerald-700 px-4 py-2 uppercase tracking-widest
                transition-colors duration-150">
  TRADE
</button>
```

#### Stat Panel
```html
<div class="bg-gray-800 rounded-md border border-gray-200 
             shadow-md px-6 py-3 flex gap-4 items-center mb-2">
  <div class="text-xl font-bold text-emerald-400">152</div>
  <div class="uppercase text-xs text-gray-300 tracking-wide">Total Cards</div>
</div>
```

#### Deck List Item
```html
<div class="flex items-center bg-white border border-emerald-200 rounded-lg px-3 py-2 mb-2 shadow
            transition hover:border-emerald-400 group">
  <span class="font-bold text-gray-800 group-hover:text-emerald-500 uppercase flex-1">Leak Busters</span>
  <button class="ml-2 px-2 py-1 text-xs rounded bg-emerald-500 text-white hover:bg-emerald-400 
                    border border-emerald-700 tracking-wider">Rename</button>
  <button class="ml-2 px-2 py-1 text-xs rounded bg-red-500 text-white hover:bg-red-400 
                    border border-red-700">Delete</button>
</div>
```

#### Emergency/Battle Screen Background
- Use a patterned/solid background: `bg-gradient-to-b from-gray-100 via-emerald-100 to-gray-200`
- Overlay a pixelated grid: `<div class="absolute inset-0 opacity-20 bg-[url('/pixelgrid.svg')]"></div>`

#### Modal/Popover (Shop/Emergency Conclusion)
```html
<div class="bg-gray-700 rounded-lg border-2 border-emerald-400 shadow-2xl px-8 py-6
            max-w-md mx-auto">
  <h2 class="text-emerald-400 text-2xl font-bold uppercase mb-3 drop-shadow-[0_1px_0_rgba(0,0,0,0.7)]">
    SHOP
  </h2>
  <!-- Shop content -->
</div>
```

---

## Thematic Details

- Rounded edges (`rounded-lg`, `rounded-md`) on all core UI elements.
- Shadow effects (`shadow`, `shadow-lg`, etc.) suggest the chunky, layered look of early handheld interface dividers.
- Thin solid borders (`border-2`, `border`, `border-emerald-500`) on cards/buttons for the Gameboy look.
- Use of `uppercase tracking-wider` (and `tracking-widest` for more dramatic effect) on all labels, buttons, and headings.
- Flashy actions (rewards popups, critical fixes) use emerald gradients and pixelated burst SVGs.
- Subtle transition effects (`transition`, `hover:*`) maintain a responsive, modern UI feel.

---

### Summary

This theme blends a retro, pixel-inspired Gameboy color vibe—channeling nostalgia—while updating the interface for contemporary clarity and usability through Tailwind utilities. Emerald green stands out as the world’s core energy, used consistently for buttons, highlights, and progress bars, helping all “action” interactions pop vividly.

> appendUser
<screen>
{
    "name": "Deck",
    "description": "Build, edit, and rename your decks for battle. Add or remove cards and view stats like average card power and type breakdown to optimize your deck for different emergencies.",
    "path": "/deck"
}
</screen>

> appendUser
Generate a detailed description of the screen in markdown format.
Include information about layout and functionality.

> nop
//_END_MAKE_TARGET_INPUT_


@time 2025-09-03T16:58:41-04:00
@tokenUsage 1979 / 1689 / $0.007336
@model gpt-4.1-2025-04-14
> assistant
# Deck Screen

## Overview

The **Deck** screen is your strategic command center for creating, editing, and optimizing the card decks used in plumbing emergency battles. Here, you can assemble the perfect combination of plumbers, tools, tactics, and upgrades tailored to your playstyle and the specific emergencies you want to conquer. The interface encourages experimentation and refinement with real-time stats, a clear, visual deck list, and thoughtful, retro-inspired design.

---

## Layout

### 1. Header & Navigation

- **Top Bar:**  
  - Displays the deck's current name in a bold, retro-styled mono font, paired with a discrete edit icon/button for quick renaming (`text-xl font-bold uppercase tracking-wider text-gray-100`).
  - To the left: back navigation button (styled as a pixel arrow or retro button) to return to the Dashboard or previous screen.
  - To the right: contextual actions (e.g., duplicate deck, delete deck), presented as small, icon-style buttons with emerald accents.

---

### 2. Deck Stats Panel

- **Position:** Directly beneath the header, in a horizontal card (`bg-gray-800 rounded-md border border-gray-200 shadow-md px-6 py-3 flex gap-6 items-center mb-4`).
- **Content:**
  - **Average Power:** Displays the mean card power (`text-xl text-emerald-400 font-bold`).
  - **Card Count:** Shows total cards out of deck limit, e.g., "24/30" (`text-emerald-500`).
  - **Type Breakdown:** Mini bar, pie graph, or icon row visualizing card types (Plumber, Tool, Tactic, Upgrade), each in a colored pixel icon + label (`flex gap-2 items-center`).
  - **Quick "Optimize" Button:** Offers a suggestion to auto-balance or optimize the deck, placed to the right, styled with `bg-emerald-500 rounded px-3 py-1 uppercase text-xs`.

---

### 3. Deck List Section

- **Visual Display:**  
  Cards in the current deck are shown as a horizontal scrollable row or tiled grid (`grid grid-cols-2 md:grid-cols-3 gap-3` or `flex overflow-x-auto gap-3`), using the card UI described in the theme section:
  ```html
  <div class="bg-gray-100 rounded-lg border-2 border-emerald-500 shadow-lg px-4 py-3 relative overflow-hidden">
    <h3 class="text-lg font-bold text-gray-900 uppercase tracking-wide">Card Name</h3>
    <p class="text-xs text-gray-700">Type: Plumber</p>
  </div>
  ```
- **Card Interactions:**  
  - **Remove from Deck:** Each card has a top-right "remove" button (pixel-style 'X', red on hover).
  - **Card Details:** Tapping/clicking a card opens a quick modal/overlay to show stats and effects.
  - **Order:** Drag-and-drop to reorder cards (on mobile and desktop).

---

### 4. Add Cards Section

- **Function:** Add new cards to your deck from your collection.
- **Access:**  
  - Prominent green "Add Cards" button below the deck list (`bg-emerald-500 text-white rounded shadow px-4 py-2 uppercase tracking-wider`).
- **UI:**  
  - Opens a modal or slides up a panel showing your full card collection, filtered to cards not yet in the deck. Includes:
    - Search bar at the top (pixel-styled input).
    - Filter/sort controls (by type, power, rarity).
    - Tap/click to "Add" (button on each card, grayed out if deck is full).
    - Selected cards update the deck list in real-time.

---

### 5. Deck Actions

- **Row of Buttons (below main deck UI):**
  - **Save Deck:** Prominent emerald-600 button, disables if no changes have been made.
  - **Rename Deck:** Secondary outlined emerald button.
  - **Delete Deck:** Cautiously styled red button for permanent removal.
  - **Duplicate Deck:** Outlined, allows making a copy to try new strategies.

- **Confirmation Dialogs:**
  - All risky actions (delete/rename/duplicate) use modals with retro styling and emerald pixel icons.

---

### 6. Supporting Details

- **Empty Deck State:**  
  If a new deck has no cards, show a friendly illustration and a prompt:  
  \> "This deck is empty! Start adding your favorite cards to get ready for battle."
  - "Add Cards" button is highlighted, pulses gently.

- **Deck Limit Warning:**  
  - When at or over the card limit, display a small banner:  
    \> "Deck Limit Reached: Remove a card to add another."  
    Styled in `bg-yellow-300 text-gray-900 rounded px-3 py-1 font-mono`.

- **Mobile Responsiveness:**  
  All key actions (add, remove, save) are reachable one-handed; larger tap targets for cards and buttons.

---

## Functionality

- **Deck Editing:**  
  Instantly add/remove cards with visual feedback (cards slide in/out, deck stats update live).
- **Renaming:**  
  Edit the deck name directly in the header or via a modal, type in new name, confirm with an emerald "Save" button.
- **View Stats:**  
  All stats auto-recalculate as you tweak your deck.
- **No Unsaved Changes Warning:**  
  If leaving with unsaved changes, a modal warns you and prompts to save or discard.
- **Accessibility:**  
  All controls use text labels, have focus/hover states, and keyboard support.

---

## Visual Summary

- **Gameboy/Retro Touch:** All panels/cards use pixel shadow, strong borders, ample padding.
- **Emerald Theme:** Core actions (`Save`, `Add`, etc.) gleam in emerald; highlights and progress bars are green gradients.
- **Clarity:** Stats and card types use fun but readable iconography; no visual clutter.
- **Guided:** If unable to add more cards, or deck is unbalanced, contextual tips appear in soft yellow or emerald banners.

---

## Example UI Structure (Hierarchy)

```plaintext
[Header: "<Deck Name>"  (Edit Button) ]
[Stats Bar: Avg Power |  Card Count |  Type Breakdown | Optimize ]
[Deck List: Card Tiles with Remove]
[Add Cards Button]
[Deck Action Buttons: Save  Rename  Delete  Duplicate]
```

---

### Tailwind Classes Highlights

- **Containers:** `bg-gray-900`, `rounded-lg`, `shadow-lg`, `border-emerald-500`
- **Buttons:** `bg-emerald-500 hover:bg-emerald-600 text-white uppercase`
- **Section Titles:** `text-xl font-bold font-mono tracking-wider drop-shadow`
- **Cards:** `bg-gray-100 border-2 border-emerald-500 rounded-lg shadow-lg`
- **Deck Stats:** `text-emerald-400 text-xl font-bold`
- **Interactions:** `transition hover:scale-105 focus:ring-2`

---

## User Workflow Example

1. **Arrive on Deck screen.** See current deck name and stats.
2. **Review deck composition.** Remove a card by tapping 'X'.
3. **Tap "Add Cards".** Browse collection, filter by type, click new cards to add.
4. **Stats update live.** Notice if over the card limit.
5. **Rename deck.** Click name or use Rename button, enter new name.
6. **Save changes.** Click 'Save Deck', confirmation shown.
7. **All set**—deck is optimized and ready for the next emergency!

---

## Thematic Effect

This screen embodies the fun and approachability of the game, encouraging players to express their tactical creativity. The nostalgic palette, chunky pixel-aligned interface, and lively emerald highlights make deck-building as delightful as the battles themselves.
